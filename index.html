<!doctype html>
<html ng-app="GradesApp">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="bower_components/material-design-lite/material.min.css">
	<script src="bower_components/material-design-lite/material.min.js"></script>

	<!--<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->
	<!--<link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.indigo-pink.min.css">-->
	<!--<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>-->

	<link rel="stylesheet" href="style/style.css">

	<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>-->
	<script src="bower_components/angular/angular.min.js"></script>
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="js/app.js"></script>

	<title>Grades</title>
</head>

<body ng-controller="AppCtrl as app">

	<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header
				mdl-layout--fixed-tabs">
		<header ng-show="app.currentUser"  class="mdl-layout__header">
			<div class="mdl-layout__header-row">
				<span class="mdl-layout-title">Grades</span>
			</div>
			<div class="mdl-layout__tab-bar mdl-js-ripple-effect">
				<a href="#fixed-tab-1" class="mdl-layout__tab is-active">Grades</a>
				<a href="#fixed-tab-2" class="mdl-layout__tab">Groups</a>
				<a href="#fixed-tab-3" class="mdl-layout__tab">Tab 3</a>
			</div>
		</header>
		<div class="mdl-layout__drawer">
			<span class="mdl-layout-title">Title</span>
		</div>
		<main ng-controller="IntroCtrl as intro" ng-show="!app.currentUser" class="mdl-layout__content login">
			<div ng-controller="LoginCtrl as log" ng-show="intro.login" class="mdl-layout mdl-js-layout mdl-color--grey-100 login-container">
				<div class="mdl-card mdl-shadow--6dp">
					<div class="mdl-card__title mdl-color--primary mdl-color-text--white">
						<h2 class="mdl-card__title-text">Log in</h2>
					</div>
					<div class="mdl-card__supporting-text">
						<form ng-submit="log.login()">
							<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
								<input ng-model="log.user.email" class="mdl-textfield__input" type="text" id="email" autocomplete="off"/>
								<label class="mdl-textfield__label" for="Email">Email</label>
							</div>
							<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
								<input ng-model="log.user.pass" class="mdl-textfield__input" type="password" id="userpass" />
								<label class="mdl-textfield__label" for="userpass">Password</label>
							</div>
							<input ng-show="false" type="submit">
						</form>
						<span ng-show="log.error" class="error">Wrong email or password</span>
					</div>
					<div class="mdl-card__actions mdl-card--border">
						<button ng-click="log.login()" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Log in</button>
						<span class="or">or</span>
						<button ng-click="intro.switch()" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Register</button>
					</div>
				</div>
			</div>
			<div ng-controller="RegisterCtrl as reg" ng-show="!intro.login" class="mdl-layout mdl-js-layout mdl-color--grey-100 login-container">
				<div class="mdl-card mdl-shadow--6dp">
					<div class="mdl-card__title mdl-color--primary mdl-color-text--white">
						<h2 class="mdl-card__title-text">Register</h2>
					</div>
					<div class="mdl-card__supporting-text">
						<form ng-submit="reg.register()">
							<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
								<input ng-model="reg.user.email" class="mdl-textfield__input" type="email" id="email1" autocomplete="off"/>
								<label class="mdl-textfield__label" for="email1">Email</label>
								<span class="mdl-textfield__error">Invalid email!</span>
							</div>
							<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
								<input ng-model="reg.user.firstName" class="mdl-textfield__input name" type="text" id="firstName" autocomplete="off"/>
								<label class="mdl-textfield__label" for="firstName">First name</label>
							</div>
							<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
								<input ng-model="reg.user.lastName" class="mdl-textfield__input name" type="text" id="lastName" autocomplete="off"/>
								<label class="mdl-textfield__label" for="lastName">Last name</label>
							</div>
							<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
								<input ng-model="reg.user.pass" class="mdl-textfield__input" type="password" id="userpass1" pattern="[0-9a-zA-Z]{6,}"/>
								<label class="mdl-textfield__label" for="userpass1">Password</label>
								<span class="mdl-textfield__error">Password should be at least 6 charecters!</span>
							</div>
							<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect student" for="option-1">
								<input ng-model="reg.status" type="radio" id="option-1" class="mdl-radio__button" name="options" value="student" checked>
								<span class="mdl-radio__label">Student</span>
							</label>
							<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect teacher" for="option-2">
								<input ng-model="reg.status" type="radio" id="option-2" class="mdl-radio__button" name="options" value="teacher">
								<span class="mdl-radio__label">Teacher</span>
							</label>
							<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label student-code">
								<input ng-model="reg.user.code" class="mdl-textfield__input" type="password" id="code" pattern="-?[0-9]*(\.[0-9]+)?"/>
								<label class="mdl-textfield__label" for="Code">Student code</label>
								<span class="mdl-textfield__error">Input is not a number!</span>
							</div>
							<input ng-show="false" type="submit">
						</form>
						<span ng-show="reg.error" class="error">Email taken!</span>
						<span ng-show="!reg.infoSet" class="error">Please fill all fields!</span>
					</div>
					<div class="mdl-card__actions mdl-card--border">
						<button ng-click="reg.register()" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Register</button>
						<span class="or">or</span>
						<button ng-click="intro.switch()" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Log in</button>
					</div>
				</div>
			</div>
		</main>
		<main ng-show="app.currentUser" class="mdl-layout__content">
			<section class="mdl-layout__tab-panel is-active" id="fixed-tab-1">
				<div ng-controller="TableCtrl as tbl" class="page-content mdl-grid">
					<!--New assignment popup-->
					<div ng-show="tbl.newAssPopupVisible" class="mdl-layout mdl-js-layout mdl-color--grey-100 popup">
						<div class="mdl-card mdl-shadow--16dp">
							<div class="mdl-card__title mdl-color--primary mdl-color-text--white">
								<h2 class="mdl-card__title-text">New assignment</h2>
							</div>
							<div class="mdl-card__supporting-text">
								<form ng-submit="tbl.create()">
									<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
										<input ng-model="tbl.newAssName" class="mdl-textfield__input" type="text" id="name" autocomplete="off"/>
										<label class="mdl-textfield__label" for="name">Assignment name</label>
									</div>
									<input ng-show="false" type="submit">
								</form>
							</div>
							<div class="mdl-card__actions mdl-card--border">
								<button ng-click="tbl.create()" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Create</button>
								<button ng-click="tbl.cancel()" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Cancel</button>
							</div>
						</div>
					</div>
					<!--Edit student popup-->
					<!--<div ng-show="tbl.editPopupVisible" class="mdl-layout mdl-js-layout mdl-color&#45;&#45;grey-100 popup edit-popup">-->
						<!--<div class="mdl-card mdl-shadow&#45;&#45;16dp">-->
							<!--<div class="mdl-card__title mdl-color&#45;&#45;primary mdl-color-text&#45;&#45;white">-->
								<!--<h2 class="mdl-card__title-text">{{tbl.currentStudent.firstName}} {{tbl.currentStudent.lastName}}</h2>-->
							<!--</div>-->
							<!--<div class="mdl-card__supporting-text">-->
								<!--<form ng-submit="tbl.save()">-->
									<!--<div ng-repeat="ass in tbl.assignments track by $index" class="mdl-grid row">-->
										<!--<span class="mdl-cell mdl-cell&#45;&#45;4-col ass-name">{{ass}}</span>-->
										<!--<div class="mdl-textfield mdl-js-textfield mdl-cell mdl-cell&#45;&#45;8-col ass-grade">-->
											<!--<input class="mdl-textfield__input" type="number" pattern="-?[0-9]*(\.[0-9]+)?" id="grade" value="{{tbl.currentStudent.grades[ass]}}">-->
											<!--&lt;!&ndash;<label class="mdl-textfield__label" for="grade">{{ass}}</label>&ndash;&gt;-->
											<!--<span class="mdl-textfield__error">Grade is not a number!</span>-->
										<!--</div>-->
									<!--</div>-->
									<!--<input ng-show="false" type="submit">-->
								<!--</form>-->
							<!--</div>-->
							<!--<div class="mdl-card__actions mdl-card&#45;&#45;border">-->
								<!--<button ng-click="tbl.save()" class="mdl-button mdl-button&#45;&#45;colored mdl-js-button mdl-js-ripple-effect">Save</button>-->
								<!--<button ng-click="tbl.cancel()" class="mdl-button mdl-button&#45;&#45;colored mdl-js-button mdl-js-ripple-effect">Cancel</button>-->
							<!--</div>-->
						<!--</div>-->
					<!--</div>-->


					<!--<input type="text" placeholder="Search.." ng-model="query">-->

					<div class="mdl-textfield mdl-js-textfield mdl-cell mdl-cell--8-col">
						<input class="mdl-textfield__input" type="text" id="sample1" ng-model="query">
						<label class="mdl-textfield__label" for="sample1">Search...</label>
					</div>

					<button ng-click="tbl.showPopup('new_ass')" class="mdl-button mdl-js-button mdl-button--accent mdl-cell mdl-cell--4-col add-assignment">
						New assignment
					</button>

					<!--<form ng-submit="tbl.newAssignment()" class="mdl-cell mdl-cell&#45;&#45;4-col">-->
						<!--<div class="mdl-textfield mdl-js-textfield mdl-textfield&#45;&#45;expandable">-->
							<!--<label class="mdl-button mdl-js-button mdl-button&#45;&#45;icon" for="sample6">-->
								<!--<i class="material-icons">add</i>-->
							<!--</label>-->
							<!--<div class="mdl-textfield__expandable-holder">-->
								<!--<input autocomplete="off" class="mdl-textfield__input" type="text" id="sample6" placeholder="New assignment" ng-model="tbl.assignment">-->
								<!--<label class="mdl-textfield__label" for="sample6">Expandable Input</label>-->
							<!--</div>-->
						<!--</div>-->
						<!--<input ng-show="false" type="submit">-->
					<!--</form>-->

					<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp mdl-cell mdl-cell--12-col">
						<thead>
						<tr>
							<th class="mdl-data-table__cell--non-numeric">Name</th>
							<th class="mdl-data-table__cell">Student code</th>
							<th class="mdl-data-table__cell" ng-repeat="assignment in tbl.assignments track by $index">{{assignment}}</th>
						</tr>
						</thead>
						<tbody>
						<tr ng-repeat="student in (tbl.students | filter:query)" ng-click="tbl.edit(student)">
							<td class="mdl-data-table__cell--non-numeric ">{{student.firstName}} {{student.lastName}}</td>
							<td>{{student.code}}</td>
							<td ng-repeat="ass in tbl.assignments track by $index">
								<!--<div class="mdl-textfield mdl-js-textfield ass-grade">-->
									<!--<input class="mdl-textfield__input" type="number" id="sample1" value="{{student.grades[ass]}}">-->
								<!--</div>-->
								<input type="number" class="ass-grade" value="{{student.grades[ass]}}"/>
							</td>
						</tr>
						</tbody>
					</table>

				</div>
			</section>
			<section class="mdl-layout__tab-panel" id="fixed-tab-2">
				<div class="page-content"><!-- Your content goes here -->Mis</div>
			</section>
			<section class="mdl-layout__tab-panel" id="fixed-tab-3">
				<div class="page-content"><!-- Your content goes here -->Teed</div>
			</section>
		</main>
	</div>


</body>

</html>